  正在判斷要還原的專案...
  所有專案都在最新狀態，可進行還原。
  Core.Domain -> C:\Users\bohewu.BOHE-WU-NEW-PC\Desktop\IdP\HybridIdP\Core.Domain\bin\Debug\net10.0\Core.Domain.dll
  Core.Application -> C:\Users\bohewu.BOHE-WU-NEW-PC\Desktop\IdP\HybridIdP\Core.Application\bin\Debug\net10.0\Core.Application.dll
  Tests.SystemTests -> C:\Users\bohewu.BOHE-WU-NEW-PC\Desktop\IdP\HybridIdP\Tests.SystemTests\bin\Debug\net10.0\Tests.SystemTests.dll
C:\Users\bohewu.BOHE-WU-NEW-PC\Desktop\IdP\HybridIdP\Tests.SystemTests\bin\Debug\net10.0\Tests.SystemTests.dll 的測試回合 (.NETCoreApp,Version=v10.0)
VSTest 版本 18.0.1 (x64)

正在啟動測試執行，請稍候...
總共有 1 個測試檔案與指定的模式相符。
C:\Users\bohewu.BOHE-WU-NEW-PC\Desktop\IdP\HybridIdP\Tests.SystemTests\bin\Debug\net10.0\Tests.SystemTests.dll
[xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v3.1.4+50e68bbb8b (64-bit .NET 10.0.0)
[xUnit.net 00:00:00.13]   Discovering: Tests.SystemTests
[xUnit.net 00:00:00.21]   Discovered:  Tests.SystemTests
[xUnit.net 00:00:00.24]   Starting:    Tests.SystemTests
[xUnit.net 00:00:06.98]       Status: OK, Content: {"isAuthenticated":true,"authenticationType":"AuthenticationTypes.Federation","name":"admin@hybridauth.local","claims":[{"type":"iss","value":"https://localhost:7035/"},{"type":"exp","value":"1765978952"},{"type":"iat","value":"1765978052"},{"type":"scope","value":"openid profile roles"},{"type":"jti","value":"7df5e7dd-95cc-41d5-9d8b-d65f32287f26"},{"type":"sub","value":"bc81d8cc-f590-4a80-c564-08de38b6d29a"},{"type":"name","value":"admin@hybridauth.local"},{"type":"preferred_username","value":"admin@hybridauth.local"},{"type":"permission","value":"clients.read"},{"type":"permission","value":"clients.create"},{"type":"permission","value":"clients.update"},{"type":"permission","value":"clients.delete"},{"type":"permission","value":"scopes.read"},{"type":"permission","value":"scopes.create"},{"type":"permission","value":"scopes.update"},{"type":"permission","value":"scopes.delete"},{"type":"permission","value":"users.read"},{"type":"permission","value":"users.create"},{"type":"permission","value":"users.update"},{"type":"permission","value":"users.delete"},{"type":"permission","value":"users.impersonate"},{"type":"permission","value":"roles.read"},{"type":"permission","value":"roles.create"},{"type":"permission","value":"roles.update"},{"type":"permission","value":"roles.delete"},{"type":"permission","value":"claims.read"},{"type":"permission","value":"claims.create"},{"type":"permission","value":"claims.update"},{"type":"permission","value":"claims.delete"},{"type":"permission","value":"persons.read"},{"type":"permission","value":"persons.create"},{"type":"permission","value":"persons.update"},{"type":"permission","value":"persons.delete"},{"type":"permission","value":"audit.read"},{"type":"permission","value":"monitoring.read"},{"type":"permission","value":"settings.read"},{"type":"permission","value":"settings.update"},{"type":"permission","value":"localization.read"},{"type":"permission","value":"localization.create"},{"type":"permission","value":"localization.update"},{"type":"permission","value":"localization.delete"},{"type":"role","value":"Admin"},{"type":"oi_prst","value":"testclient-public"},{"type":"client_id","value":"testclient-public"},{"type":"oi_tkn_id","value":"7fc7e5a8-d901-46eb-66ec-08de3d70089a"},{"type":"oi_tkn_typ","value":"urn:ietf:params:oauth:token-type:access_token"},{"type":"oi_crt_dt","value":"Wed, 17 Dec 2025 13:27:32 GMT"},{"type":"oi_exp_dt","value":"Wed, 17 Dec 2025 13:42:32 GMT"},{"type":"oi_scp","value":"openid"},{"type":"oi_scp","value":"profile"},{"type":"oi_scp","value":"roles"}]}
[xUnit.net 00:00:06.98]       Stack Trace:
[xUnit.net 00:00:06.98]         C:\Users\bohewu.BOHE-WU-NEW-PC\Desktop\IdP\HybridIdP\Tests.SystemTests\PasskeyApiTests.cs(56,0): at Tests.SystemTests.PasskeyApiTests.Debug_UserEndpoint_ReturnsClaims()
[xUnit.net 00:00:06.98]         --- End of stack trace from previous location ---
[xUnit.net 00:00:06.99]   Finished:    Tests.SystemTests
  失敗 Tests.SystemTests.PasskeyApiTests.Debug_UserEndpoint_ReturnsClaims [86 ms]
  錯誤訊息:
   Status: OK, Content: {"isAuthenticated":true,"authenticationType":"AuthenticationTypes.Federation","name":"admin@hybridauth.local","claims":[{"type":"iss","value":"https://localhost:7035/"},{"type":"exp","value":"1765978952"},{"type":"iat","value":"1765978052"},{"type":"scope","value":"openid profile roles"},{"type":"jti","value":"7df5e7dd-95cc-41d5-9d8b-d65f32287f26"},{"type":"sub","value":"bc81d8cc-f590-4a80-c564-08de38b6d29a"},{"type":"name","value":"admin@hybridauth.local"},{"type":"preferred_username","value":"admin@hybridauth.local"},{"type":"permission","value":"clients.read"},{"type":"permission","value":"clients.create"},{"type":"permission","value":"clients.update"},{"type":"permission","value":"clients.delete"},{"type":"permission","value":"scopes.read"},{"type":"permission","value":"scopes.create"},{"type":"permission","value":"scopes.update"},{"type":"permission","value":"scopes.delete"},{"type":"permission","value":"users.read"},{"type":"permission","value":"users.create"},{"type":"permission","value":"users.update"},{"type":"permission","value":"users.delete"},{"type":"permission","value":"users.impersonate"},{"type":"permission","value":"roles.read"},{"type":"permission","value":"roles.create"},{"type":"permission","value":"roles.update"},{"type":"permission","value":"roles.delete"},{"type":"permission","value":"claims.read"},{"type":"permission","value":"claims.create"},{"type":"permission","value":"claims.update"},{"type":"permission","value":"claims.delete"},{"type":"permission","value":"persons.read"},{"type":"permission","value":"persons.create"},{"type":"permission","value":"persons.update"},{"type":"permission","value":"persons.delete"},{"type":"permission","value":"audit.read"},{"type":"permission","value":"monitoring.read"},{"type":"permission","value":"settings.read"},{"type":"permission","value":"settings.update"},{"type":"permission","value":"localization.read"},{"type":"permission","value":"localization.create"},{"type":"permission","value":"localization.update"},{"type":"permission","value":"localization.delete"},{"type":"role","value":"Admin"},{"type":"oi_prst","value":"testclient-public"},{"type":"client_id","value":"testclient-public"},{"type":"oi_tkn_id","value":"7fc7e5a8-d901-46eb-66ec-08de3d70089a"},{"type":"oi_tkn_typ","value":"urn:ietf:params:oauth:token-type:access_token"},{"type":"oi_crt_dt","value":"Wed, 17 Dec 2025 13:27:32 GMT"},{"type":"oi_exp_dt","value":"Wed, 17 Dec 2025 13:42:32 GMT"},{"type":"oi_scp","value":"openid"},{"type":"oi_scp","value":"profile"},{"type":"oi_scp","value":"roles"}]}
  堆疊追蹤:
     at Tests.SystemTests.PasskeyApiTests.Debug_UserEndpoint_ReturnsClaims() in C:\Users\bohewu.BOHE-WU-NEW-PC\Desktop\IdP\HybridIdP\Tests.SystemTests\PasskeyApiTests.cs:line 56
--- End of stack trace from previous location ---

測試數總計: 1
     失敗: 1
 時間總計: 7.7131 秒

C:\repos\HybridIdP\Tests.SystemTests\bin\Debug\net10.0\Tests.SystemTests.dll 的測試回合 (.NETCoreApp,Version=v10.0)
VSTest 版本 18.0.1 (x64)

正在啟動測試執行，請稍候...
總共有 1 個測試檔案與指定的模式相符。
C:\repos\HybridIdP\Tests.SystemTests\bin\Debug\net10.0\Tests.SystemTests.dll
[xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v3.1.4+50e68bbb8b (64-bit .NET 10.0.0)
[xUnit.net 00:00:00.06]   Discovering: Tests.SystemTests
[xUnit.net 00:00:00.09]   Discovered:  Tests.SystemTests
[xUnit.net 00:00:00.11]   Starting:    Tests.SystemTests
[xUnit.net 00:00:01.04]       Assert.Equal() Failure: Values differ
[xUnit.net 00:00:01.04]       Expected: Found
[xUnit.net 00:00:01.04]       Actual:   InternalServerError
[xUnit.net 00:00:01.04]       Stack Trace:
[xUnit.net 00:00:01.04]         C:\repos\HybridIdP\Tests.SystemTests\LegacyAuthSystemTests.cs(45,0): at Tests.SystemTests.LegacyAuthSystemTests.Authenticate_LegacyUser_ReturnsSuccessAndProvisionsUser()
[xUnit.net 00:00:01.04]         --- End of stack trace from previous location ---
  失敗 Tests.SystemTests.LegacyAuthSystemTests.Authenticate_LegacyUser_ReturnsSuccessAndProvisionsUser [893 ms]
  錯誤訊息:
   Assert.Equal() Failure: Values differ
Expected: Found
Actual:   InternalServerError
  堆疊追蹤:
     at Tests.SystemTests.LegacyAuthSystemTests.Authenticate_LegacyUser_ReturnsSuccessAndProvisionsUser() in C:\repos\HybridIdP\Tests.SystemTests\LegacyAuthSystemTests.cs:line 45
--- End of stack trace from previous location ---
  已通過 Tests.SystemTests.M2MSystemTests.ClientCredentialsMock_EndToEnd_ReturnsSuccess [2 s]
[xUnit.net 00:00:11.16]       Timed out waiting for User Code. Output:
Requesting Device Code from https://localhost:7035...
Error requesting device code: BadRequest
Raw Response:
{
  "error": "invalid_request",
  "error_description": "The client application is not allowed to use the 'offline_access' scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2065"
}
Result written to C:\Users\bohewu\AppData\Local\Temp\device_results_328684b5-931f-44d4-9a1c-37d7c9894c4a.json
[xUnit.net 00:00:11.16]       Stack Trace:
[xUnit.net 00:00:11.16]         C:\repos\HybridIdP\Tests.SystemTests\DeviceFlowSystemTests.cs(76,0): at Tests.SystemTests.DeviceFlowSystemTests.DeviceFlow_EndToEnd_ReturnsSuccess()
[xUnit.net 00:00:11.16]         --- End of stack trace from previous location ---
[xUnit.net 00:00:11.17]   Finished:    Tests.SystemTests
  失敗 Tests.SystemTests.DeviceFlowSystemTests.DeviceFlow_EndToEnd_ReturnsSuccess [11 s]
  錯誤訊息:
   Timed out waiting for User Code. Output:
Requesting Device Code from https://localhost:7035...
Error requesting device code: BadRequest
Raw Response:
{
  "error": "invalid_request",
  "error_description": "The client application is not allowed to use the 'offline_access' scope.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2065"
}
Result written to C:\Users\bohewu\AppData\Local\Temp\device_results_328684b5-931f-44d4-9a1c-37d7c9894c4a.json
  堆疊追蹤:
     at Tests.SystemTests.DeviceFlowSystemTests.DeviceFlow_EndToEnd_ReturnsSuccess() in C:\repos\HybridIdP\Tests.SystemTests\DeviceFlowSystemTests.cs:line 76
--- End of stack trace from previous location ---

測試數總計: 3
     通過: 1
     失敗: 2
 時間總計: 11.5775 秒
